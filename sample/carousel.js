!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.carousel=t():e.carousel=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/lib/",n(n.s=6)}([function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(s(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),o=(l=n.slice()).length,u=0;u<o;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var o;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var n,s,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,s=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=a;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(e,i){var r=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,s=i.length,o=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),u=i[n];n<s;u=i[++n])p(u)||!b(u)?o+=" "+u:o+=" "+a(u);return o},t.deprecate=function(n,r){if(y(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var s=!1;return function(){if(!s){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),s=!0}return n.apply(this,arguments)}};var s,o={};function a(e,n){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),d(n)?i.showHidden=n:n&&t._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),c(i,e,i.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,i){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return m(r)||(r=c(e,r,i)),r}var s=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(e,n);if(s)return s;var o=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),T(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(x(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(T(n))return h(n)}var l,b="",_=!1,S=["{","}"];(v(n)&&(_=!0,S=["[","]"]),x(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return E(n)&&(b=" "+RegExp.prototype.toString.call(n)),A(n)&&(b=" "+Date.prototype.toUTCString.call(n)),T(n)&&(b=" "+h(n)),0!==o.length||_&&0!=n.length?i<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=_?function(e,t,n,i,r){for(var s=[],o=0,a=t.length;o<a;++o)L(t,String(o))?s.push(f(e,t,n,i,String(o),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(f(e,t,n,i,r,!0))}),s}(e,n,i,a,o):o.map(function(t){return f(e,n,i,a,t,_)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,b,S)):S[0]+b+S[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,i,r,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),L(i,r)||(o="["+r+"]"),a||(e.seen.indexOf(u.value)<0?(a=p(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),y(o)){if(s&&r.match(/^\d+$/))return a;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function v(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function p(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function E(e){return b(e)&&"[object RegExp]"===_(e)}function b(e){return"object"==typeof e&&null!==e}function A(e){return b(e)&&"[object Date]"===_(e)}function T(e){return b(e)&&("[object Error]"===_(e)||e instanceof Error)}function x(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(s)&&(s=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var n=i.pid;o[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else o[e]=function(){};return o[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=v,t.isBoolean=d,t.isNull=p,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=E,t.isObject=b,t.isDate=A,t.isError=T,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(4);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(5),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,n(2),n(3))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&v())}function v(){if(!c){var e=a(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||a(v)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),s=n(1),o=n.n(s),a={CAROUSEL:{CLASSNAME:"__carousel",TAGNAME:"div",CSS:{"-webkit-backface-visibility":"hidden","backface-visibility":"hidden",position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%",margin:0,padding:0,border:0}},CAROUSEL_DATA:{CLASSNAME:"__carousel_data",TAGNAME:"div",CSS:{overflow:"hidden",position:"absolute",top:0,right:0,bottom:0,left:0}},PAGINATE:{CLASSNAME:"__paginate",TAGNAME:"div"},PAGINATE_DATA:{INDEX_KEY:"paginate-data-idx",CLASSNAME:"__paginate_data",TAGNAME:"div"},CSS_TRANSFORM_PREFIX:["-webkit-","-moz-","-ms-","-o-",""],DIRECTION:{DEFAULT:"DEFAULT",PREV:"PREV",NEXT:"NEXT"},EMITTER_NAME:{PREV:"prev",NEXT:"next",PAGINATE:"paginate"},DEFAULT_VALUE:{LIMIT_VELOCITY:.5,MAX_PAGE:10,MOVE_RANGE:.3,ROLLING_SECOND:5,TRANSITION_SECOND:.2}},u=function(){var e=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};return{isMobile:e,setTransitionPrefix:function(){for(var e=0,t=a.CSS_TRANSFORM_PREFIX.length;e<t;e++)2===arguments.length?arguments[0].style.setProperty(a.CSS_TRANSFORM_PREFIX[e]+"transition",arguments[1]):arguments[0].style.setProperty(a.CSS_TRANSFORM_PREFIX[e]+"transition",a.CSS_TRANSFORM_PREFIX[e]+arguments[2]+" "+arguments[1])},setTransformPrefix:function(e,t){for(var n=0,i=a.CSS_TRANSFORM_PREFIX.length;n<i;n++)e.style.setProperty(a.CSS_TRANSFORM_PREFIX[n]+"transform","translateX("+t+") translateZ(0)")},getPageXY:function(t){return{x:e()?t.changedTouches[0].pageX:t.pageX,y:e()?t.changedTouches[0].pageY:t.pageY}}}}();function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var f=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={carouselClassname:a.CAROUSEL.CLASSNAME,carouselDataClassname:a.CAROUSEL_DATA.CLASSNAME,data:[],paginateData:[],isAutoRolling:!1,isBounce:!1,isFixHeight:!1,isPaginate:!1,maxPage:a.DEFAULT_VALUE.MAX_PAGE,rollingSecond:a.DEFAULT_VALUE.ROLLING_SECOND,startIndex:0,target:null,transitionSeconds:a.DEFAULT_VALUE.TRANSITION_SECOND,limitVelocity:a.DEFAULT_VALUE.LIMIT_VELOCITY,moveRange:a.DEFAULT_VALUE.MOVE_RANGE,type:0}}return function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(e,[{key:"setDatas",value:function(e){c(this.options,e),this.options.isBounce&&(this.options.isAutoRolling=!1),this.options.isBounce||2!==this.options.data.length||(this.options.data=l(this.options.data).concat([this.options.data[0],this.options.data[1]])),this.options.moveRange>1?this.options.moveRange=1:this.options.moveRange<.1&&(this.options.moveRange=.1),this.options.moveRange=this.options.moveRange.toFixed(2)}},{key:"getCarouselClassname",value:function(){return this.options.carouselClassname}},{key:"getCarouselDataClassname",value:function(){return this.options.carouselDataClassname}},{key:"getData",value:function(){return this.options.data}},{key:"getDataLastIndex",value:function(){return this.getDataLength()-1}},{key:"getDataLength",value:function(){return this.options.data.length}},{key:"getIsAutoRolling",value:function(){return this.options.isAutoRolling}},{key:"getMoveRange",value:function(){return this.options.moveRange}},{key:"getStartIndex",value:function(){return this.options.startIndex}},{key:"getRollingSecond",value:function(){return this.options.rollingSecond}},{key:"getIsBounce",value:function(){return this.options.isBounce}},{key:"getIsPaginate",value:function(){return this.options.isPaginate}},{key:"getTarget",value:function(){return this.options.target}},{key:"getTransitionSeconds",value:function(){return this.options.transitionSeconds}},{key:"getLimitVelocity",value:function(){return this.options.limitVelocity}},{key:"getPaginateData",value:function(){return this.options.paginateData}}]),e}());function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(){r.a.call(this)}o.a.inherits(p,r.a);var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timer=null,this.emitter=new p,this.carouselElement=null,this.paginateElement=null,this.paginateDataArray=[],f.setDatas(t),this.state={isOnTouching:!1,isOnAutoRolling:!1,isPossible:!0},this.value={idx:{after:0,before:0,current:f.getStartIndex(),last:f.getDataLastIndex()},time:{end:0,start:0},x:{end:0,move:0,start:0},y:{end:0,move:0,start:0}}}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(e,[{key:"start",value:function(){this.setCarousel(),this.setEvent(),f.getIsAutoRolling()&&this.startRolling(),f.getIsPaginate()&&(this.setPaginate(),this.setPaging())}},{key:"getCarouseElement",value:function(){var e=document.createElement("div");return e.className=f.getCarouselClassname(),v(e.style,a.CAROUSEL.CSS),e}},{key:"setCarouselData",value:function(){0===f.getDataLastIndex()?this.carouselElement.appendChild(this.getCarouselDataElement(0)):(this.setIdx(),f.getIsBounce()||this.carouselElement.appendChild(this.getCarouselDataElement(this.value.idx.before)),this.carouselElement.appendChild(this.getCarouselDataElement(this.value.idx.current)),this.carouselElement.appendChild(this.getCarouselDataElement(this.value.idx.after)))}},{key:"getCarouselDataElement",value:function(e){var t=document.createElement("div");return t.className=f.getCarouselDataClassname(),t.innerHTML=f.getData()[e]||"",t}},{key:"getPaginateElement",value:function(){var e=document.createElement("div");e.className=a.PAGINATE.CLASSNAME;for(var t=0;t<f.getDataLength();t++){var n=this.getPaginateDataElement(t);e.appendChild(n)}return e}},{key:"getPaginateDataElement",value:function(e){var t=document.createElement("div");return t.className=a.PAGINATE_DATA.CLASSNAME,t.setAttribute(a.PAGINATE_DATA.INDEX_KEY,e),t.addEventListener("click",function(e){e.preventDefault(),e.target.getAttribute(a.PAGINATE_DATA.INDEX_KEY)&&this.state.isPossible&&(this.value.idx.current=parseInt(e.target.getAttribute(a.PAGINATE_DATA.INDEX_KEY)),this.carouselElement.innerHTML="",this.setIdx(),this.setCarouselData(),this.setDataTransition(),this.emitter.emit(a.EMITTER_NAME.PAGINATE,this.value.idx.current))}.bind(this)),f.getPaginateData()&&(t.innerHTML=f.getPaginateData()[e]),this.paginateDataArray.push(t),t}},{key:"getDirection",value:function(){var e=(Math.abs(this.value.x.end-this.value.x.start)/1e3/((this.value.time.end-this.value.time.start)/1e3)).toFixed(2),t=a.DIRECTION.DEFAULT;return f.getIsAutoRolling()&&this.state.isOnAutoRolling?t=a.DIRECTION.NEXT:(this.value.x.start>this.value.x.end&&e>f.getLimitVelocity()?f.getIsBounce()&&this.value.idx.current===this.value.idx.last||(t=a.DIRECTION.NEXT):this.value.x.start<this.value.x.end&&e>f.getLimitVelocity()&&(f.getIsBounce()&&0===this.value.idx.current||(t=a.DIRECTION.PREV)),t)}},{key:"setCarousel",value:function(){f.getTarget().innerHTML="",this.carouselElement=this.getCarouseElement(),this.setCarouselData(),f.getTarget().appendChild(this.carouselElement),this.setDataTransition()}},{key:"setPaginate",value:function(){this.paginateElement=this.getPaginateElement(),f.getTarget().appendChild(this.paginateElement)}},{key:"setDataTransition",value:function(){for(var e=this.carouselElement.querySelectorAll("."+f.getCarouselDataClassname()),t=0,n=e.length;t<n;t++)v(e[t].style,a.CAROUSEL_DATA.CSS);e.length>1&&(2===e.length?0===this.value.idx.current?(u.setTransformPrefix(e[0],"0"),u.setTransformPrefix(e[1],"100%")):(u.setTransformPrefix(e[0],"-100%"),u.setTransformPrefix(e[1],"0")):(u.setTransformPrefix(e[0],"-100%"),u.setTransformPrefix(e[1],"0"),u.setTransformPrefix(e[2],"100%")))}},{key:"setIdx",value:function(){this.value.idx.current<0&&(this.value.idx.current=this.value.idx.last),this.value.idx.current>this.value.idx.last&&(this.value.idx.current=0),this.value.idx.before=0===this.value.idx.current?this.value.idx.last:this.value.idx.current-1,this.value.idx.after=this.value.idx.current===this.value.idx.last?0:this.value.idx.current+1,this.setPaging()}},{key:"setPaging",value:function(){if(f.getIsPaginate()&&this.paginateDataArray.length>0){for(var e=0,t=this.paginateDataArray.length;e<t;e++)this.paginateDataArray[e].classList.remove("on");this.paginateDataArray[this.value.idx.current].classList.add("on")}}},{key:"setEvent",value:function(){u.isMobile()?(this.carouselElement.addEventListener("touchstart",this.onStartEvent.bind(this)),document.addEventListener("touchmove",this.onMoveEvent.bind(this)),document.addEventListener("touchend",this.onEndEvent.bind(this))):(this.carouselElement.addEventListener("mouseover",this.onMouseoverEvent.bind(this)),this.carouselElement.addEventListener("mouseout",this.onMouseoutEvent.bind(this)),this.carouselElement.addEventListener("mousedown",this.onStartEvent.bind(this)),document.addEventListener("mousemove",this.onMoveEvent.bind(this)),document.addEventListener("mouseup",this.onEndEvent.bind(this)))}},{key:"prev",value:function(){u.setTransformPrefix(this.carouselElement,"100%"),setTimeout(function(){f.getIsBounce()&&0===this.value.idx.current||(f.getIsBounce()&&this.value.idx.current===this.value.idx.last||this.carouselElement.removeChild(this.carouselElement.lastChild),this.value.idx.current--,this.setIdx(),f.getIsBounce()&&0===this.value.idx.current||this.carouselElement.insertBefore(this.getCarouselDataElement(this.value.idx.before),this.carouselElement.firstChild),u.setTransitionPrefix(this.carouselElement,"none"),u.setTransformPrefix(this.carouselElement,"0"),this.setDataTransition())}.bind(this),1e3*f.getTransitionSeconds()),this.emitter.emit(a.EMITTER_NAME.PREV,this.value.idx.current)}},{key:"next",value:function(){u.setTransformPrefix(this.carouselElement,"-100%"),setTimeout(function(){f.getIsBounce()&&this.value.idx.current===this.value.idx.last||(f.getIsBounce()&&0===this.value.idx.current||this.carouselElement.removeChild(this.carouselElement.firstChild),this.value.idx.current++,this.setIdx(),f.getIsBounce()&&this.value.idx.current===this.value.idx.last||this.carouselElement.appendChild(this.getCarouselDataElement(this.value.idx.after)),u.setTransitionPrefix(this.carouselElement,"none"),u.setTransformPrefix(this.carouselElement,"0"),this.setDataTransition())}.bind(this),1e3*f.getTransitionSeconds()),this.emitter.emit(a.EMITTER_NAME.NEXT,this.value.idx.current)}},{key:"onStartEvent",value:function(e){if(!this.state.isOnTouching){if(e.preventDefault(),!this.state.isPossible)return;this.stopRolling(),this.state.isPossible=!1,this.state.isOnTouching=!0;var t=u.getPageXY(e);this.value.x.start=t.x,this.value.y.start=t.y,this.value.time.start=(new Date).getTime(),u.setTransitionPrefix(this.carouselElement,"none")}}},{key:"onMoveEvent",value:function(e){if(this.state.isOnTouching){e.preventDefault();var t=u.getPageXY(e);this.value.x.move=t.x,this.value.y.move=t.y;var n=this.value.x.start/this.carouselElement.offsetWidth*100,i=(this.value.x.move/this.carouselElement.offsetWidth*100-n)*f.getMoveRange();u.setTransformPrefix(this.carouselElement,i+"%")}}},{key:"onEndEvent",value:function(e){if(this.state.isOnTouching){this.state.isOnTouching=!1;var t=u.getPageXY(e);this.value.x.end=t.x,this.value.y.end=t.y,this.value.time.end=(new Date).getTime(),this.actionByDirection(),setTimeout(function(){this.state.isPossible=!0,this.startRolling()}.bind(this),1e3*f.getTransitionSeconds())}}},{key:"onMouseoverEvent",value:function(){f.getIsAutoRolling()&&this.state.isOnAutoRolling&&this.stopRolling()}},{key:"onMouseoutEvent",value:function(){f.getIsAutoRolling()&&!this.state.isOnAutoRolling&&this.startRolling()}},{key:"actionByDirection",value:function(){switch(this.getDirection()){case a.DIRECTION.PREV:this.prev();break;case a.DIRECTION.NEXT:this.next();break;case a.DIRECTION.DEFAULT:u.setTransformPrefix(this.carouselElement,"0")}u.setTransitionPrefix(this.carouselElement,f.getTransitionSeconds()+"s ease-out","transform")}},{key:"startRolling",value:function(){f.getIsAutoRolling()&&(this.state.isOnAutoRolling=!0,this.timer=setInterval(function(){this.actionByDirection()}.bind(this),1e3*f.getRollingSecond()))}},{key:"stopRolling",value:function(){f.getIsAutoRolling()&&(this.state.isOnAutoRolling=!1,clearInterval(this.timer))}}]),e}();!function(){var e={isAutoRolling:!1,isBounce:!1,isPaginate:!0,rollingSecond:2,startIndex:0,transitionSeconds:.2,limitVelocity:.5,moveRange:.3,data:['<div class="a a1">1<a href="#" style="position:absolute;top:10px;left:10px;width:20px;height:20px;background:#f00;"></a></div>','<div class="a a2">2</div>','<div class="a a3">3</div>','<div class="a a4">4</div>','<div class="a a5">5</div>','<div class="a a6">6</div>'],paginateData:['<div class="b b1">1</div>','<div class="b b2">2</div>','<div class="b b3">3</div>','<div class="b b4">4</div>','<div class="b b5">5</div>','<div class="b b6">6</div>'],target:document.querySelector(".carousel")},t=new g(e);t.start(),t.emitter.on("prev",function(e){console.log(e)}),t.emitter.on("next",function(e){console.log(e)}),t.emitter.on("paginate",function(e){console.log(e)})}()}])});